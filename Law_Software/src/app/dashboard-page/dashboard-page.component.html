<mat-sidenav-container class="container">
  <!-- Sidebar -->
  <mat-sidenav mode="side" opened class="sidenav">
    <h2 class="logo">LegalAssess</h2>
    <mat-nav-list>
      <a mat-list-item routerLink="/dashboard" class="active">
        <mat-icon>dashboard</mat-icon> Dashboard
      </a>
      <a mat-list-item routerLink="/cases">
        <mat-icon>gavel</mat-icon> Cases
      </a>
      <a mat-list-item routerLink="/documents">
        <mat-icon>folder</mat-icon> Assessment
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content class="content">
    <mat-toolbar class="toolbar">
      <span class="spacer"></span>
      <button mat-icon-button>
        <mat-icon>home</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>notifications</mat-icon>
      </button>
      <div class="profile-section" [matMenuTriggerFor]="profileMenu">
        <img src="assets/images/picture-profile.jpeg" alt="Profile" class="profile-img" />
      </div>
      <mat-menu #profileMenu="matMenu">
        <button mat-menu-item>
          <mat-icon>person</mat-icon> Profile
        </button>
        <button mat-menu-item>
          <mat-icon>exit_to_app</mat-icon> <app-logout-page></app-logout-page>
        </button>
      </mat-menu>
    </mat-toolbar>

    <div class="dashboard-content">
      <!-- Banner -->
      <div class="banner">
        <h1>Dashboard</h1>
        <p>Track and manage all your legal cases and compliance requirements in one place.</p>
      </div>

      <!-- Stats Cards -->
      <div class="case">
        <h3>Analysis</h3>
      </div>
      <div class="stats">
        <mat-card class="stat-card">
          <mat-card-content>
            <h3>Active Cases</h3>
            <h2>2</h2>
            <mat-progress-bar mode="determinate" value="70"></mat-progress-bar>
            <p>70% completed</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <h3>Completed Cases</h3>
            <h2>1</h2>
            <p class="increment">+1 this month</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <h3>Overdue Tasks</h3>
            <h2>2</h2>
            <p class="alert">Requires attention</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <h3>Compliance Rate</h3>
            <h2>52%</h2>
            <p class="success">On track</p>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Expandable Test Details Table -->
      <div class="case">
        <h3>Test Analysis</h3>
      </div>
      
      <div class="result-container" *ngIf="finalResults.length > 0; else noData">
        <div class="table-container">
          <div class="final-results-table">
            <table>
              <thead>
                <tr>
                  <th>S.No</th>
                  <th>Test Name</th>
                  <th>Test Path</th>
                  <th>Technical Score</th>
                  <th>Path Reward</th>
                  <th>Overall Score</th>
                  <th>Created At</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let result of finalResults; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td>{{ result.test_name }}</td>
                  <td>{{ result.test_path }}</td>
                  <td>{{ result.technical_score }}</td>
                  <td>{{ result.path_reward }}</td>
                  <td>{{ result.overall_score }}</td>
                  <td>{{ result.created_at | date: 'short' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
      </div>
      
      <ng-template #noData>
        <p>No results found.</p>
      </ng-template>
      
      
      
      
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>